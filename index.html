<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>Latihan Lengan</title>

<style>
  :root{
    --merah: #b91c1c;
    --merah-muda: #ffe6e6;
    --border: #f3d6d6;
  }

  body{
    font-family: system-ui;
    background: #fff;
    color: #000;
    margin: 28px;
  }

  h1{
    color: var(--merah);
  }

  .card{
    max-width: 520px;
    border: 1px solid #eee;
    border-radius: 16px;
    padding: 20px;
  }

  .row{
    display:flex;
    justify-content:space-between;
    margin:8px 0;
  }

  .label{
    color: var(--merah);
    font-weight:700;
  }

  .exercise{
    display:flex;
    justify-content:space-between;
    padding:10px 0;
    border-bottom:1px dashed #eee;
  }

  .qty{
    color: var(--merah);
    font-weight:700;
  }

  button{
    margin-top:12px;
    width:100%;
    padding:12px;
    border:none;
    border-radius:10px;
    font-weight:700;
    cursor:pointer;
  }

  .primary{
    background: var(--merah);
    color:#fff;
  }

  .reset{
    background: var(--merah-muda);
    color: var(--merah);
    border:1px solid var(--border);
  }

  button:disabled{
    opacity:.4;
    cursor:not-allowed;
  }
</style>
</head>

<body>

<h1>Latihan Lengan</h1>

<div class="card">
  <div class="row"><div class="label">Hari</div><div id="day"></div></div>
  <div class="row"><div class="label">Level</div><div id="diff"></div></div>
  <div class="row"><div class="label">Sesi Berikutnya</div><div id="time"></div></div>

  <div id="training" style="margin-top:12px"></div>

  <button id="btn" class="primary">Selesai Hari Ini</button>
  <button id="resetBtn" class="reset">Reset Progress</button>
</div>

<script>
  var data = JSON.parse(localStorage.getItem("lengan")) || {
    day: 1,
    deadline: 0
  };

  function save(){
    localStorage.setItem("lengan", JSON.stringify(data));
  }

  function level(){
    return Math.floor((data.day - 1) / 3) + 1;
  }

  function formatWaktu(s){
    var jam = Math.floor(s / 3600);
    var menit = Math.floor((s % 3600) / 60);
    var detik = Math.floor(s % 60);
    return jam + " jam " + menit + " menit " + detik + " detik";
  }

  function selesaiHariIni(){
    var now = Math.floor(Date.now() / 1000);
    if(now < data.deadline) return;

    data.deadline = now + 12 * 3600; // 12 jam
    data.day = Math.min(data.day + 1, 360);
    save();
    updateUI();
  }

  function resetProgress(){
    if(!confirm("Yakin ingin mengulang semua progress latihan lengan?")) return;
    data.day = 1;
    data.deadline = 0;
    save();
    updateUI();
  }

  function updateUI(){
    var now = Math.floor(Date.now() / 1000);
    var sisa = Math.max(0, data.deadline - now);
    var diff = level();

    document.getElementById("day").textContent = data.day + " / 360";
    document.getElementById("diff").textContent = diff;
    document.getElementById("time").textContent = sisa ? formatWaktu(sisa) : "Siap";
    document.getElementById("btn").disabled = sisa > 0;

    var pushUp = 18 + diff * 2;
    var dips = 12 + diff;
    var shoulderTap = 20 + diff * 2;
    var plankPush = 10 + diff;
    var curl = 14 + diff * 2;

    document.getElementById("training").innerHTML = `
      <div class="exercise"><div>Push-up</div><div class="qty">${pushUp} repetisi</div></div>
      <div class="exercise"><div>Tricep Dips</div><div class="qty">${dips} repetisi</div></div>
      <div class="exercise"><div>Shoulder Tap</div><div class="qty">${shoulderTap} repetisi</div></div>
      <div class="exercise"><div>Plank ke Push-up</div><div class="qty">${plankPush} repetisi</div></div>
      <div class="exercise"><div>Bicep Curl</div><div class="qty">${curl} repetisi</div></div>
    `;
  }

  document.getElementById("btn").onclick = selesaiHariIni;
  document.getElementById("resetBtn").onclick = resetProgress;

  setInterval(updateUI, 1000);
  updateUI();
</script>

</body>
</html>
